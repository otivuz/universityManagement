@model IEnumerable<OctsProjectMvcTest.Models.Course>

@{
    ViewBag.Title = "ViewRoomAllocation";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

<h2>View Room Allocation</h2>

@using (Html.BeginForm())
{
    <div>
        <b>Select Department</b>
        @Html.DropDownList("DepartmentID", String.Empty)
    </div>
}
<div id="room-data">
    @Html.Partial("~/Views/AllocatedRooms/_RoomFilter.cshtml",Model)
</div>

<script type="text/javascript">
    function FillData(id) {
        $('#room-data').load('@Url.Action("RoomFilter")', { departmentID: id });
        }

        $(function () {
            $('#DepartmentID').change(function () {
                var id = $('#DepartmentID').val();
                FillData(id);
            });
        }); 

</script>